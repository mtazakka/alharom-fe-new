"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[3471],{13471:function(s,e,r){r.r(e);var n=r(74165),i=r(15861),o=r(29439),a=r(47313),t=r(9019),d=r(42832),c=r(15103),l=r(49914),u=r(41727),p=r(15480),h=r(57829),x=r(61113),Z=r(48310),j=r(60194),w=r(74748),m=r(83213),f=r(24193),g=r(15914),P=r(94044),v=r(22150),b=r(18530),y=r(21733),C=r(21933),A=r(35604),E=r(31741),S=r(44874),k=r(43681),_=r(9751),F=r(46417);e.default=function(){var s=(0,a.useState)(!1),e=(0,o.Z)(s,2),r=e[0],O=e[1],$=(0,a.useState)(!1),q=(0,o.Z)($,2),z=q[0],R=q[1],B=(0,a.useState)(!1),D=(0,o.Z)(B,2),N=D[0],M=D[1],I=function(){O(!r)},V=function(){R(!z)},J=function(){M(!N)},W=function(s){s.preventDefault()};return(0,F.jsx)(g.Z,{title:"Change Password",children:(0,F.jsx)(A.J9,{initialValues:{old:"",password:"",confirm:"",submit:null},validationSchema:C.Ry().shape({old:C.Z_().required("Old Password is required"),password:C.Z_().required("New Password is required").matches(/^.*(?=.{8,})((?=.*[!@#$%^&*()\-_=+{};:,<.>]){1})(?=.*\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/,"Password must contain at least 8 characters, one uppercase, one number and one special case character"),confirm:C.Z_().required("Confirm Password is required").test("confirm","Passwords don't match.",(function(s,e){return e.parent.password===s}))}),onSubmit:function(){var s=(0,i.Z)((0,n.Z)().mark((function s(e,r){var i,o,a,t;return(0,n.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:i=r.resetForm,o=r.setErrors,a=r.setStatus,t=r.setSubmitting;try{(0,v.WI)((0,b.ss)({open:!0,message:"Password changed successfully.",variant:"alert",alert:{color:"success"},close:!1})),i(),a({success:!1}),t(!1)}catch(e){a({success:!1}),o({submit:e.message}),t(!1)}case 2:case"end":return s.stop()}}),s)})));return function(e,r){return s.apply(this,arguments)}}(),children:function(s){var e=s.errors,n=s.handleBlur,i=s.handleChange,o=s.handleSubmit,a=s.isSubmitting,g=s.touched,v=s.values;return(0,F.jsx)("form",{noValidate:!0,onSubmit:o,children:(0,F.jsxs)(t.ZP,{container:!0,spacing:3,children:[(0,F.jsxs)(t.ZP,{item:!0,container:!0,spacing:3,xs:12,sm:6,children:[(0,F.jsx)(t.ZP,{item:!0,xs:12,children:(0,F.jsxs)(d.Z,{spacing:1.25,children:[(0,F.jsx)(c.Z,{htmlFor:"password-old",children:"Old Password"}),(0,F.jsx)(l.Z,{placeholder:"Enter Old Password",id:"password-old",type:r?"text":"password",value:v.old,name:"old",onBlur:n,onChange:i,endAdornment:(0,F.jsx)(u.Z,{position:"end",children:(0,F.jsx)(P.Z,{"aria-label":"toggle password visibility",onClick:I,onMouseDown:W,edge:"end",size:"large",color:"secondary",children:r?(0,F.jsx)(E.Z,{}):(0,F.jsx)(S.Z,{})})}),inputProps:{}}),g.old&&e.old&&(0,F.jsx)(p.Z,{error:!0,id:"password-old-helper",children:e.old})]})}),(0,F.jsx)(t.ZP,{item:!0,xs:12,children:(0,F.jsxs)(d.Z,{spacing:1.25,children:[(0,F.jsx)(c.Z,{htmlFor:"password-password",children:"New Password"}),(0,F.jsx)(l.Z,{placeholder:"Enter New Password",id:"password-password",type:z?"text":"password",value:v.password,name:"password",onBlur:n,onChange:i,endAdornment:(0,F.jsx)(u.Z,{position:"end",children:(0,F.jsx)(P.Z,{"aria-label":"toggle password visibility",onClick:V,onMouseDown:W,edge:"end",size:"large",color:"secondary",children:z?(0,F.jsx)(E.Z,{}):(0,F.jsx)(S.Z,{})})}),inputProps:{}}),g.password&&e.password&&(0,F.jsx)(p.Z,{error:!0,id:"password-password-helper",children:e.password})]})}),(0,F.jsx)(t.ZP,{item:!0,xs:12,children:(0,F.jsxs)(d.Z,{spacing:1.25,children:[(0,F.jsx)(c.Z,{htmlFor:"password-confirm",children:"Confirm Password"}),(0,F.jsx)(l.Z,{placeholder:"Enter Confirm Password",id:"password-confirm",type:N?"text":"password",value:v.confirm,name:"confirm",onBlur:n,onChange:i,endAdornment:(0,F.jsx)(u.Z,{position:"end",children:(0,F.jsx)(P.Z,{"aria-label":"toggle password visibility",onClick:J,onMouseDown:W,edge:"end",size:"large",color:"secondary",children:N?(0,F.jsx)(E.Z,{}):(0,F.jsx)(S.Z,{})})}),inputProps:{}}),g.confirm&&e.confirm&&(0,F.jsx)(p.Z,{error:!0,id:"password-confirm-helper",children:e.confirm})]})})]}),(0,F.jsx)(t.ZP,{item:!0,xs:12,sm:6,children:(0,F.jsxs)(h.Z,{sx:{p:{xs:0,sm:2,md:4,lg:5}},children:[(0,F.jsx)(x.Z,{variant:"h5",children:"New password must contain:"}),(0,F.jsxs)(Z.Z,{sx:{p:0,mt:1},children:[(0,F.jsxs)(j.ZP,{divider:!0,children:[(0,F.jsx)(w.Z,{sx:{color:(0,y.Ei)(v.password)?"success.main":"inherit"},children:(0,y.Ei)(v.password)?(0,F.jsx)(k.Z,{}):(0,F.jsx)(_.Z,{})}),(0,F.jsx)(m.Z,{primary:"At least 8 characters"})]}),(0,F.jsxs)(j.ZP,{divider:!0,children:[(0,F.jsx)(w.Z,{sx:{color:(0,y.Fh)(v.password)?"success.main":"inherit"},children:(0,y.Fh)(v.password)?(0,F.jsx)(k.Z,{}):(0,F.jsx)(_.Z,{})}),(0,F.jsx)(m.Z,{primary:"At least 1 lower letter (a-z)"})]}),(0,F.jsxs)(j.ZP,{divider:!0,children:[(0,F.jsx)(w.Z,{sx:{color:(0,y.bO)(v.password)?"success.main":"inherit"},children:(0,y.bO)(v.password)?(0,F.jsx)(k.Z,{}):(0,F.jsx)(_.Z,{})}),(0,F.jsx)(m.Z,{primary:"At least 1 uppercase letter (A-Z)"})]}),(0,F.jsxs)(j.ZP,{divider:!0,children:[(0,F.jsx)(w.Z,{sx:{color:(0,y.hj)(v.password)?"success.main":"inherit"},children:(0,y.hj)(v.password)?(0,F.jsx)(k.Z,{}):(0,F.jsx)(_.Z,{})}),(0,F.jsx)(m.Z,{primary:"At least 1 number (0-9)"})]}),(0,F.jsxs)(j.ZP,{children:[(0,F.jsx)(w.Z,{sx:{color:(0,y.ws)(v.password)?"success.main":"inherit"},children:(0,y.ws)(v.password)?(0,F.jsx)(k.Z,{}):(0,F.jsx)(_.Z,{})}),(0,F.jsx)(m.Z,{primary:"At least 1 special characters"})]})]})]})}),(0,F.jsx)(t.ZP,{item:!0,xs:12,children:(0,F.jsxs)(d.Z,{direction:"row",justifyContent:"flex-end",alignItems:"center",spacing:2,children:[(0,F.jsx)(f.Z,{variant:"outlined",color:"secondary",children:"Cancel"}),(0,F.jsx)(f.Z,{disabled:a||0!==Object.keys(e).length,type:"submit",variant:"contained",children:"Save"})]})})]})})}})})}},21733:function(s,e,r){function n(s){return new RegExp("^(?=.*[0-9]).+$").test(s)}function i(s){return new RegExp("^(?=.*[a-z]).+$").test(s)}function o(s){return new RegExp("^(?=.*[A-Z]).+$").test(s)}function a(s){return new RegExp("^(?=.*[-+_!@#$%^&*.,?]).+$").test(s)}function t(s){return s.length>7}r.d(e,{Ei:function(){return t},Fh:function(){return i},bO:function(){return o},hj:function(){return n},ws:function(){return a}})}}]);