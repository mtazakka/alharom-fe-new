"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[9254],{59254:function(e,r,n){n.r(r),n.d(r,{default:function(){return De}});var i=n(29439),t=n(1413),s=n(47313),l=n(19860),o=n(51629),a=n(66835),d=n(23477),c=n(24076),u=n(70941),h=n(49709),x=n(24193),p=n(57861),m=n(78370),Z=n(46923),j=n(57829),f=n(42832),g=n(61113),v=n(19536),w=n(9019),y=n(15103),b=n(24631),C=n(13292),S=n(1550),D=n(54299),I=n(83929),P=n(33827),T=n(88797),k=n(51405),M=n(15480),z=n(91208),W=n(23208),A=n(40662),O=n(21933),R=n(60940),q=n(35604),H=n(94044),V=n(54081),B=n(29700),E=n(51404),F=n(22150),N=n(69742),_=n(18530),L=n(11829),X=n(46417),K=new R.Chance,Y=n(5242),G=O.Ry({title:O.Z_().required("User story title is required"),dueDate:O.hT().required("Due date is required").nullable()}),U=function(e){var r=e.open,n=e.handleDrawerOpen,i=(0,F.I0)(),s=(0,F.v9)((function(e){return e.kanban})),l=s.profiles,o=s.columns,a=s.userStory,d=s.userStoryOrder,c=(0,q.TA)({initialValues:{id:"",title:"",assign:null,columnId:"",priority:"low",dueDate:null,acceptance:"",description:"",commentIds:"",image:!1,itemIds:[],files:[]},enableReinitialize:!0,validationSchema:G,onSubmit:function(e,r){var t=r.resetForm;e.id="".concat(K.integer({min:1e3,max:9999})),i((0,N.kh)(e,a,d)),i((0,_.ss)({open:!0,message:"Submit Success",variant:"alert",alert:{color:"success"},close:!1})),n(),t()}});return(0,X.jsx)(Z.ZP,{sx:{ml:r?3:0,flexShrink:0,zIndex:1200,overflowX:"hidden",width:{xs:320,md:450},"& .MuiDrawer-paper":{width:{xs:320,md:450},border:"none",borderRadius:"0px"}},variant:"temporary",anchor:"right",open:r,ModalProps:{keepMounted:!0},onClose:n,children:r&&(0,X.jsxs)(V.Z,{sx:{overflowX:"hidden",height:"100vh"},children:[(0,X.jsx)(j.Z,{sx:{p:3},children:(0,X.jsxs)(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,X.jsx)(g.Z,{variant:"h4",children:"Add Story"}),(0,X.jsx)(h.Z,{title:"Close",children:(0,X.jsx)(H.Z,{color:"secondary",onClick:n,size:"small",sx:{fontSize:"0.875rem"},children:(0,X.jsx)(L.Z,{})})})]})}),(0,X.jsx)(v.Z,{}),(0,X.jsx)(j.Z,{sx:{p:3},children:(0,X.jsx)("form",{onSubmit:c.handleSubmit,children:(0,X.jsx)(W._,{dateAdapter:z.H,children:(0,X.jsxs)(w.ZP,{container:!0,spacing:2.5,children:[(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(f.Z,{spacing:1,children:[(0,X.jsx)(y.Z,{children:"Title"}),(0,X.jsx)(b.Z,{fullWidth:!0,id:"title",name:"title",placeholder:"Title",value:c.values.title,onChange:c.handleChange,error:c.touched.title&&Boolean(c.errors.title),helperText:c.touched.title&&c.errors.title})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(f.Z,{spacing:1,children:[(0,X.jsx)(y.Z,{children:"Assign to"}),(0,X.jsx)(C.Z,{id:"assign",value:l.find((function(e){return e.id===c.values.assign}))||null,onChange:function(e,r){c.setFieldValue("assign",null===r||void 0===r?void 0:r.id)},options:l,fullWidth:!0,autoHighlight:!0,getOptionLabel:function(e){return e.name},isOptionEqualToValue:function(e){return e.id===c.values.assign},renderOption:function(e,r){return(0,X.jsxs)(j.Z,(0,t.Z)((0,t.Z)({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:[(0,X.jsx)("img",{loading:"lazy",width:"20",src:Y("./".concat(r.avatar)),alt:""}),r.name]}))},renderInput:function(e){return(0,X.jsx)(b.Z,(0,t.Z)((0,t.Z)({},e),{},{placeholder:"Choose a assignee",inputProps:(0,t.Z)((0,t.Z)({},e.inputProps),{},{autoComplete:"new-password"})}))}})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(f.Z,{spacing:1,children:[(0,X.jsx)(y.Z,{children:"Prioritize"}),(0,X.jsx)(S.Z,{children:(0,X.jsxs)(D.Z,{row:!0,"aria-label":"color",value:c.values.priority,onChange:c.handleChange,name:"priority",id:"priority",children:[(0,X.jsx)(I.Z,{value:"low",control:(0,X.jsx)(P.Z,{color:"primary",sx:{color:"primary.main"}}),label:"Low"}),(0,X.jsx)(I.Z,{value:"medium",control:(0,X.jsx)(P.Z,{color:"warning",sx:{color:"warning.main"}}),label:"Medium"}),(0,X.jsx)(I.Z,{value:"high",control:(0,X.jsx)(P.Z,{color:"error",sx:{color:"error.main"}}),label:"High"})]})})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(f.Z,{spacing:1,children:[(0,X.jsx)(y.Z,{children:"Due date"}),(0,X.jsx)(A.$,{value:c.values.dueDate,format:"dd/MM/yyyy",onChange:function(e){c.setFieldValue("dueDate",e)}})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(f.Z,{spacing:1,children:[(0,X.jsx)(y.Z,{children:"Acceptance"}),(0,X.jsx)(b.Z,{fullWidth:!0,id:"acceptance",name:"acceptance",multiline:!0,rows:3,value:c.values.acceptance,onChange:c.handleChange,error:c.touched.acceptance&&Boolean(c.errors.acceptance),helperText:c.touched.acceptance&&c.errors.acceptance})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(f.Z,{spacing:1,children:[(0,X.jsx)(y.Z,{children:"Description"}),(0,X.jsx)(b.Z,{fullWidth:!0,id:"description",name:"description",multiline:!0,rows:3,value:c.values.description,onChange:c.handleChange,error:c.touched.description&&Boolean(c.errors.description),helperText:c.touched.description&&c.errors.description})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(f.Z,{spacing:1,children:[(0,X.jsx)(y.Z,{children:"State"}),(0,X.jsx)(S.Z,{fullWidth:!0,sx:{m:1},children:(0,X.jsx)(T.Z,{id:"columnId",name:"columnId",displayEmpty:!0,value:c.values.columnId,onChange:c.handleChange,inputProps:{"aria-label":"Without label"},children:o.map((function(e,r){return(0,X.jsx)(k.Z,{value:e.id,children:e.title},r)}))})})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(w.ZP,{container:!0,spacing:1,children:[(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsx)(y.Z,{sx:{mt:.5},children:"Attachments:"})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsx)(B.Z,{type:"STANDARD",showList:!0,setFieldValue:c.setFieldValue,files:c.values.files,error:c.touched.files&&!!c.errors.files})}),c.touched.files&&c.errors.files&&(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsx)(M.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:c.errors.files})})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsx)(E.Z,{children:(0,X.jsx)(x.Z,{fullWidth:!0,variant:"contained",type:"submit",children:"Save"})})})]})})})})]})})},$=n(90891),J=n(79601),Q=n(65033),ee=n(89600),re=new R.Chance,ne=n(5242),ie=O.Ry({title:O.Z_().required("Task title is required"),dueDate:O.hT().required("Due date is required").nullable()}),te=function(e){var r=e.open,n=e.handleDrawerOpen,i=e.storyId,s=(0,F.I0)(),l=(0,F.v9)((function(e){return e.kanban})),o=l.profiles,a=l.columns,d=l.userStory,c=l.items,u=(0,q.TA)({initialValues:{id:"",title:"",assign:null,priority:"low",dueDate:null,description:"",commentIds:"",image:!1,storyId:"",columnId:a[0].id,files:[]},enableReinitialize:!0,validationSchema:ie,onSubmit:function(e,r){var t=r.resetForm,l={id:e.id||"".concat(re.integer({min:1e3,max:9999})),title:e.title,assign:e.assign,priority:e.priority,dueDate:e.dueDate?new Date(e.dueDate):new Date,description:e.description,commentIds:e.commentIds,image:e.image};s((0,N.jX)(e.columnId,a,l,c,i,d)),s((0,_.ss)({open:!0,message:"Submit Success",variant:"alert",alert:{color:"success"},close:!1})),n(),t()}});return(0,X.jsx)(Z.ZP,{sx:{ml:r?3:0,flexShrink:0,zIndex:1200,overflowX:"hidden",width:{xs:320,md:450},"& .MuiDrawer-paper":{width:{xs:320,md:450},border:"none",borderRadius:"0px"}},variant:"temporary",anchor:"right",open:r,ModalProps:{keepMounted:!0},onClose:n,children:r&&(0,X.jsxs)(V.Z,{sx:{overflowX:"hidden",height:"100vh"},children:[(0,X.jsx)(j.Z,{sx:{p:3},children:(0,X.jsxs)(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,X.jsx)(g.Z,{variant:"h4",children:"Add Task"}),(0,X.jsx)(h.Z,{title:"Close",children:(0,X.jsx)(H.Z,{color:"secondary",onClick:n,size:"small",sx:{fontSize:"0.875rem"},children:(0,X.jsx)(L.Z,{})})})]})}),(0,X.jsx)(v.Z,{}),(0,X.jsx)(j.Z,{sx:{p:3},children:(0,X.jsx)("form",{onSubmit:u.handleSubmit,children:(0,X.jsx)(W._,{dateAdapter:z.H,children:(0,X.jsxs)(w.ZP,{container:!0,spacing:2.5,children:[(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(f.Z,{spacing:1,children:[(0,X.jsx)(y.Z,{children:"Title"}),(0,X.jsx)(b.Z,{fullWidth:!0,id:"title",name:"title",placeholder:"Title",value:u.values.title,onChange:u.handleChange,error:u.touched.title&&Boolean(u.errors.title),helperText:u.touched.title&&u.errors.title})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(f.Z,{spacing:1,children:[(0,X.jsx)(y.Z,{children:"Assign to"}),(0,X.jsx)(C.Z,{id:"assign",value:o.find((function(e){return e.id===u.values.assign}))||null,onChange:function(e,r){u.setFieldValue("assign",null===r||void 0===r?void 0:r.id)},options:o,fullWidth:!0,autoHighlight:!0,getOptionLabel:function(e){return e.name},isOptionEqualToValue:function(e){return e.id===u.values.assign},renderOption:function(e,r){return(0,X.jsxs)(j.Z,(0,t.Z)((0,t.Z)({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:[(0,X.jsx)("img",{loading:"lazy",width:"20",src:ne("./".concat(r.avatar)),alt:""}),r.name]}))},renderInput:function(e){return(0,X.jsx)(b.Z,(0,t.Z)((0,t.Z)({},e),{},{placeholder:"Choose a assignee",inputProps:(0,t.Z)((0,t.Z)({},e.inputProps),{},{autoComplete:"new-password"})}))}})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(f.Z,{spacing:1,children:[(0,X.jsx)(y.Z,{children:"Prioritize"}),(0,X.jsx)(S.Z,{children:(0,X.jsxs)(D.Z,{row:!0,"aria-label":"color",value:u.values.priority,onChange:u.handleChange,name:"priority",id:"priority",children:[(0,X.jsx)(I.Z,{value:"low",control:(0,X.jsx)(P.Z,{color:"primary",sx:{color:"primary.main"}}),label:"Low"}),(0,X.jsx)(I.Z,{value:"medium",control:(0,X.jsx)(P.Z,{color:"warning",sx:{color:"warning.main"}}),label:"Medium"}),(0,X.jsx)(I.Z,{value:"high",control:(0,X.jsx)(P.Z,{color:"error",sx:{color:"error.main"}}),label:"High"})]})})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(f.Z,{spacing:1,children:[(0,X.jsx)(y.Z,{children:"Due date"}),(0,X.jsx)(A.$,{value:u.values.dueDate,format:"dd/MM/yyyy",onChange:function(e){u.setFieldValue("dueDate",e)}}),u.touched.dueDate&&u.errors.dueDate&&(0,X.jsx)(M.Z,{error:!0,children:u.errors.dueDate})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(f.Z,{spacing:1,children:[(0,X.jsx)(y.Z,{children:"Description"}),(0,X.jsx)(b.Z,{fullWidth:!0,id:"description",name:"description",multiline:!0,rows:3,value:u.values.description,onChange:u.handleChange,error:u.touched.description&&Boolean(u.errors.description),helperText:u.touched.description&&u.errors.description})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(f.Z,{spacing:1,children:[(0,X.jsx)(y.Z,{children:"State"}),(0,X.jsx)(S.Z,{fullWidth:!0,sx:{m:1},children:(0,X.jsx)(T.Z,{id:"columnId",name:"columnId",displayEmpty:!0,value:u.values.columnId,onChange:u.handleChange,inputProps:{"aria-label":"Without label"},children:a.map((function(e,r){return(0,X.jsx)(k.Z,{value:e.id,children:e.title},r)}))})})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsxs)(w.ZP,{container:!0,spacing:1,children:[(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsx)(y.Z,{sx:{mt:.5},children:"Attachments:"})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsx)(B.Z,{type:"STANDARD",showList:!0,setFieldValue:u.setFieldValue,files:u.values.files,error:u.touched.files&&!!u.errors.files})}),u.touched.files&&u.errors.files&&(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsx)(M.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:u.errors.files})})]})}),(0,X.jsx)(w.ZP,{item:!0,xs:12,children:(0,X.jsx)(E.Z,{children:(0,X.jsx)(x.Z,{fullWidth:!0,variant:"contained",type:"submit",children:"Save"})})})]})})})})]})})},se=n(22675),le=n(67445),oe=n(93010),ae=n(36287),de=n(16951),ce=n(37289),ue=function(e,r){var n=r.palette.mode===ae.hY.DARK?r.palette.background.paper+90:r.palette.primary.lighter+99;return{backgroundColor:e?n:"transparent",userSelect:"none"}},he=function(e){var r=e.itemId,n=e.index,o=(0,l.Z)(),a=(0,F.I0)(),d=(0,F.v9)((function(e){return e.kanban})),h=d.columns,x=d.items,p=d.profiles,Z=d.userStory,j=x.filter((function(e){return e.id===r}))[0],v=h.filter((function(e){return e.itemIds.filter((function(e){return e===j.id}))[0]}))[0],w=p.filter((function(e){return e.id===j.assign}))[0],y=function(){a((0,N.Gh)(r))},b=(0,s.useState)(null),C=(0,i.Z)(b,2),S=C[0],D=C[1],I=function(e){D(null===e||void 0===e?void 0:e.currentTarget)},P=function(){D(null)},T=(0,s.useState)(!1),M=(0,i.Z)(T,2),z=M[0],W=M[1],A=function(e){W(!1),e&&(a((0,N.wz)(j.id,x,h,Z)),a((0,_.ss)({open:!0,message:"Task Deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1})))};return(0,X.jsx)(m._l,{draggableId:j.id,index:n,children:function(e,r){return(0,X.jsxs)(c.Z,(0,t.Z)((0,t.Z)((0,t.Z)({hover:!0},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,sx:(0,t.Z)((0,t.Z)({"& th,& td":{whiteSpace:"nowrap"},"& .more-button":{opacity:0},":hover":{"& .more-button":{opacity:1}}},Boolean(S)&&{"& .more-button":{opacity:1}}),ue(r.isDragging,o)),children:[(0,X.jsx)(u.Z,{sx:{pl:3,minWidth:120,width:120,height:46}}),(0,X.jsx)(u.Z,{sx:{width:110,minWidth:110},children:(0,X.jsxs)(f.Z,{direction:"row",spacing:.75,alignItems:"center",children:[(0,X.jsx)(de.Z,{style:{color:o.palette.info.main,marginTop:-2}}),(0,X.jsx)(g.Z,{variant:"subtitle2",children:j.id})]})}),(0,X.jsx)(u.Z,{sx:{maxWidth:"calc(100vw - 850px)",minWidth:140},component:"th",scope:"row",children:(0,X.jsx)($.Z,{underline:"hover",color:"default",onClick:y,sx:{overflow:"hidden",display:"block",textOverflow:"ellipsis",whiteSpace:"nowrap",":hover":{color:"info.main"},cursor:"pointer"},children:j.title})}),(0,X.jsxs)(u.Z,{sx:{width:60,minWidth:60},children:[(0,X.jsx)(H.Z,{className:"more-button",size:"small",onClick:I,"aria-controls":"menu-comment","aria-haspopup":"true",color:"secondary",children:(0,X.jsx)(ce.Z,{style:{color:o.palette.text.primary}})}),(0,X.jsxs)(J.Z,{id:"menu-comment",anchorEl:S,keepMounted:!0,open:Boolean(S),onClose:P,variant:"selectedMenu",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,X.jsx)(k.Z,{onClick:function(){P(),y()},children:"Edit"}),(0,X.jsx)(k.Z,{onClick:function(){P(),W(!0)},children:"Delete"})]}),(0,X.jsx)(oe.Z,{title:j.title,open:z,handleClose:A})]}),(0,X.jsx)(u.Z,{sx:{width:90,minWidth:90},children:v?v.title:"New"}),(0,X.jsx)(u.Z,{sx:{width:140,minWidth:140},children:w?w.name:""}),(0,X.jsx)(u.Z,{sx:{width:85,minWidth:85,textTransform:"capitalize"},children:j.priority}),(0,X.jsx)(u.Z,{sx:{width:120,minWidth:120},children:j.dueDate?(0,ee.Z)(new Date(j.dueDate),"d MMM yyyy"):""})]}),j.id)}})},xe={icon:function(e,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z",fill:e}},{tag:"path",attrs:{d:"M184 840h656V184H184v656zm136-352c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48z",fill:r}},{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z",fill:e}}]}},name:"plus-square",theme:"twotone"},pe=n(20262),me=function(e,r){return s.createElement(pe.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:r,icon:xe}))};me.displayName="PlusSquareTwoTone";var Ze=s.forwardRef(me),je=n(67440),fe=n(5186),ge=n(46944),ve=function(e,r,n){var i="transparent";return n&&(i=r.palette.mode===ae.hY.DARK?r.palette.background.default:r.palette.secondary.lighter),e&&(i=r.palette.mode===ae.hY.DARK?r.palette.background.default:r.palette.primary.lighter),{backgroundColor:i,userSelect:"none"}},we=function(e){var r=e.story,n=e.index,d=(0,l.Z)(),x=(0,F.I0)(),Z=(0,F.v9)((function(e){return e.kanban})),v=Z.columns,w=Z.profiles,y=Z.userStory,b=Z.userStoryOrder,C=s.useState(0===n),S=(0,i.Z)(C,2),D=S[0],I=S[1],P=v.filter((function(e){return e.id===r.columnId}))[0],T=w.filter((function(e){return e.id===r.assign}))[0],M=(0,s.useState)(!1),z=(0,i.Z)(M,2),W=z[0],A=z[1],O=function(){A((function(e){return!e}))},R=(0,s.useState)(!1),q=(0,i.Z)(R,2),V=q[0],B=q[1],E=function(){B((function(e){return!e}))},L=(0,s.useState)(null),K=(0,i.Z)(L,2),Y=K[0],G=K[1],U=function(e){G(null===e||void 0===e?void 0:e.currentTarget)},re=function(){G(null)},ne=(0,s.useState)(!1),ie=(0,i.Z)(ne,2),oe=ie[0],ae=ie[1],de=function(e){ae(!1),e&&(x((0,N.LA)(r.id,y,b)),x((0,_.ss)({open:!0,message:"Task Deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1})))};return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(m._l,{draggableId:r.id,index:n,children:function(e,n){return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(c.Z,(0,t.Z)((0,t.Z)((0,t.Z)({hover:!0},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,sx:(0,t.Z)((0,t.Z)({},ve(n.isDragging,d,D)),!D&&{"& .MuiTableCell-root":{border:"none"}}),children:[(0,X.jsx)(u.Z,{sx:{pl:3,minWidth:120,width:120,height:46},children:(0,X.jsxs)(f.Z,{direction:"row",spacing:.5,alignItems:"center",children:[(0,X.jsx)(h.Z,{title:"Add Task",children:(0,X.jsx)(H.Z,{"aria-label":"expand row",onClick:O,size:"small",sx:{fontSize:"1.15rem"},children:(0,X.jsx)(Ze,{color:d.palette.primary.main})})}),(0,X.jsx)(H.Z,{"aria-label":"expand row",size:"small",onClick:function(){return I(!D)},color:"secondary",children:D?(0,X.jsx)(je.Z,{}):(0,X.jsx)(fe.Z,{})})]})}),(0,X.jsx)(u.Z,{sx:{width:110,minWidth:110},children:(0,X.jsxs)(f.Z,{direction:"row",spacing:.75,alignItems:"center",children:[(0,X.jsx)(ge.Z,{style:{color:d.palette.primary.main,marginTop:-2}}),(0,X.jsx)(g.Z,{variant:"subtitle2",children:r.id})]})}),(0,X.jsx)(u.Z,{sx:{maxWidth:"calc(100vw - 850px)",minWidth:140},component:"th",scope:"row",children:(0,X.jsx)($.Z,{underline:"hover",color:"default",onClick:E,sx:{overflow:"hidden",display:"block",textOverflow:"ellipsis",whiteSpace:"nowrap",":hover":{color:"primary.main"},cursor:"pointer"},children:r.title})}),(0,X.jsxs)(u.Z,{sx:{width:60,minWidth:60},children:[(0,X.jsx)(H.Z,{size:"small","aria-controls":"menu-comment",onClick:U,"aria-haspopup":"true",color:"secondary",children:(0,X.jsx)(ce.Z,{style:{color:d.palette.text.primary}})}),(0,X.jsxs)(J.Z,{id:"menu-comment",anchorEl:Y,keepMounted:!0,open:Boolean(Y),onClose:re,variant:"selectedMenu",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,X.jsx)(k.Z,{onClick:function(){re(),E()},children:"Edit"}),(0,X.jsx)(k.Z,{onClick:function(){re(),ae(!0)},children:"Delete"})]}),(0,X.jsx)(le.Z,{title:r.title,open:oe,handleClose:de})]}),(0,X.jsx)(u.Z,{sx:{width:90,minWidth:90},children:P?P.title:""}),(0,X.jsx)(u.Z,{sx:{width:140,minWidth:140},children:T?T.name:""}),(0,X.jsx)(u.Z,{sx:{width:85,minWidth:85,textTransform:"capitalize"},children:r.priority}),(0,X.jsx)(u.Z,{sx:{width:120,minWidth:120},children:r.dueDate?(0,ee.Z)(new Date(r.dueDate),"d MMM yyyy"):""})]})),(0,X.jsx)(m.bK,{droppableId:r.id,type:"item",children:function(e,n){var i;return(0,X.jsx)(c.Z,(0,t.Z)((0,t.Z)({ref:e.innerRef},e.droppableProps),{},{sx:(n.isDraggingOver,{background:"transparent"}),children:(0,X.jsx)(u.Z,{style:{padding:0},colSpan:8,children:(0,X.jsx)(Q.Z,{in:D,timeout:"auto",unmountOnExit:!0,children:D&&(0,X.jsx)(j.Z,{sx:{margin:0},children:(0,X.jsx)(o.Z,{children:(0,X.jsx)(a.Z,{size:"small","aria-label":"purchases",children:(0,X.jsxs)(p.Z,{children:[null===(i=r.itemIds)||void 0===i?void 0:i.map((function(e,r){return(0,X.jsx)(he,{itemId:e,index:r},e)})),e.placeholder]})})})})})})}))}})]})}}),(0,X.jsx)(se.Z,{story:r,open:V,handleDrawerOpen:function(){B((function(e){return!e}))}}),(0,X.jsx)(te,{open:W,handleDrawerOpen:function(){A((function(e){return!e}))},storyId:r.id})]})},ye=n(93200),be=n(82138),Ce=n(15914),Se=function(e,r){return{background:e?r.palette.secondary.lighter+65:"transparent"}},De=function(){var e=(0,l.Z)(),r=(0,F.I0)(),n=(0,F.v9)((function(e){return e.kanban})),Z=n.userStory,j=n.userStoryOrder,f=(0,s.useState)(!1),g=(0,i.Z)(f,2),v=g[0],w=g[1],y=function(){w((function(e){return!e}))};return(0,X.jsx)(Ce.Z,{content:!1,children:(0,X.jsxs)(o.Z,{sx:{"& .MuiTableCell-root":{p:1.25}},children:[(0,X.jsx)(m.Z5,{onDragEnd:function(e){var n,i=e.source,s=e.destination,l=e.draggableId,o=e.type;if(s&&(s.droppableId!==i.droppableId||s.index!==i.index)){if("user-story"===o){var a=Array.from(j);return a.splice(i.index,1),a.splice(null===s||void 0===s?void 0:s.index,0,l),void r((0,N.qG)(a))}var d=Z.filter((function(e){return e.id===i.droppableId}))[0],c=Z.filter((function(e){return e.id===s.droppableId}))[0];if(d===c){var u=Array.from(d.itemIds);u.splice(i.index,1),u.splice(s.index,0,l);var h=(0,t.Z)((0,t.Z)({},d),{},{itemIds:u});n=Z.map((function(e){return e.id===h.id?h:e}))}else{var x=Array.from(d.itemIds);x.splice(i.index,1);var p=(0,t.Z)((0,t.Z)({},d),{},{itemIds:x}),m=Array.from(c.itemIds);m.splice(s.index,0,l);var f=(0,t.Z)((0,t.Z)({},c),{},{itemIds:m});n=Z.map((function(e){return e.id===p.id?p:e.id===f.id?f:e}))}r((0,N.CA)(n))}},children:(0,X.jsx)(m.bK,{droppableId:"user-story",type:"user-story",children:function(r,n){return(0,X.jsxs)(a.Z,(0,t.Z)((0,t.Z)({size:"small","aria-label":"collapsible table"},r.droppableProps),{},{ref:r.innerRef,sx:Se(n.isDraggingOver,e),children:[(0,X.jsx)(d.Z,{sx:{bgcolor:e.palette.background.paper,borderTop:"none",borderBottomWidth:"1px","& th,& td":{whiteSpace:"nowrap"}},children:(0,X.jsxs)(c.Z,{children:[(0,X.jsx)(u.Z,{sx:{pl:3},children:(0,X.jsx)(h.Z,{title:"Add User Story",children:(0,X.jsx)(x.Z,{variant:"dashed",size:"extraSmall",color:"secondary",onClick:y,endIcon:(0,X.jsx)(be.Z,{}),children:"ADD"})})}),(0,X.jsx)(u.Z,{children:"Id"}),(0,X.jsx)(u.Z,{children:"Title"}),(0,X.jsx)(u.Z,{}),(0,X.jsx)(u.Z,{children:"State"}),(0,X.jsx)(u.Z,{children:"Assigned To"}),(0,X.jsx)(u.Z,{children:"Priority"}),(0,X.jsx)(u.Z,{children:"Due Date"})]})}),(0,X.jsxs)(p.Z,{sx:{"& th,& td":{whiteSpace:"nowrap"},"& .MuiTableRow-root:last-of-type .MuiTable-root .MuiTableCell-root":{borderBottom:"1px solid ".concat(e.palette.divider)},"& .MuiTableRow-root:hover":{bgcolor:"transparent"}},children:[j.map((function(e,r){var n=Z.filter((function(r){return r.id===e}))[0];return(0,X.jsx)(we,{story:n,index:r},n.id)})),r.placeholder]})]}))}})}),(0,X.jsx)(U,{open:v,handleDrawerOpen:function(){w((function(e){return!e}))}}),(0,X.jsx)(ye.Z,{})]})})}},82138:function(e,r,n){n.d(r,{Z:function(){return a}});var i=n(1413),t=n(47313),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},l=n(20262),o=function(e,r){return t.createElement(l.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:r,icon:s}))};o.displayName="PlusOutlined";var a=t.forwardRef(o)},51629:function(e,r,n){n.d(r,{Z:function(){return Z}});var i=n(87462),t=n(63366),s=n(47313),l=n(83061),o=n(21921),a=n(77342),d=n(17592),c=n(77430),u=n(32298);function h(e){return(0,u.Z)("MuiTableContainer",e)}(0,c.Z)("MuiTableContainer",["root"]);var x=n(46417),p=["className","component"],m=(0,d.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(e,r){return r.root}})({width:"100%",overflowX:"auto"}),Z=s.forwardRef((function(e,r){var n=(0,a.Z)({props:e,name:"MuiTableContainer"}),s=n.className,d=n.component,c=void 0===d?"div":d,u=(0,t.Z)(n,p),Z=(0,i.Z)({},n,{component:c}),j=function(e){var r=e.classes;return(0,o.Z)({root:["root"]},h,r)}(Z);return(0,x.jsx)(m,(0,i.Z)({ref:r,as:c,className:(0,l.default)(j.root,s),ownerState:Z},u))}))},23477:function(e,r,n){n.d(r,{Z:function(){return g}});var i=n(87462),t=n(63366),s=n(47313),l=n(83061),o=n(21921),a=n(56062),d=n(77342),c=n(17592),u=n(77430),h=n(32298);function x(e){return(0,h.Z)("MuiTableHead",e)}(0,u.Z)("MuiTableHead",["root"]);var p=n(46417),m=["className","component"],Z=(0,c.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,r){return r.root}})({display:"table-header-group"}),j={variant:"head"},f="thead",g=s.forwardRef((function(e,r){var n=(0,d.Z)({props:e,name:"MuiTableHead"}),s=n.className,c=n.component,u=void 0===c?f:c,h=(0,t.Z)(n,m),g=(0,i.Z)({},n,{component:u}),v=function(e){var r=e.classes;return(0,o.Z)({root:["root"]},x,r)}(g);return(0,p.jsx)(a.Z.Provider,{value:j,children:(0,p.jsx)(Z,(0,i.Z)({as:u,className:(0,l.default)(v.root,s),ref:r,role:u===f?null:"rowgroup",ownerState:g},h))})}))}}]);