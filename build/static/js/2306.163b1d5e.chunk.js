"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[2306],{12306:function(e,r,t){t.r(r),t.d(r,{default:function(){return ye}});var n=t(74165),i=t(15861),a=t(29439),o=t(47313),l=t(24813),c=t(57829),s=t(94469),d=t(49709),u=t(60876),p=t(61682),h=t(10306),m=t(34032),x=t(2e3),v=t(14298),f=t(96108),g=t(11577),Z=t(87467),y=t(1413),j=t(17592),b=t(36287),C=(0,j.ZP)("div")((function(e){var r=e.theme;return(0,y.Z)({width:"calc(100% + 2px)",marginLeft:-1,marginBottom:"-50px","& .fc-license-message":{display:"none"},"& .fc .fc-daygrid .fc-scroller-liquid-absolute":{overflow:"hidden !important"},"& .fc":{"--fc-bg-event-opacity":1,"--fc-border-color":r.palette.divider,"--fc-daygrid-event-dot-width":"10px","--fc-today-bg-color":r.palette.primary.lighter,"--fc-list-event-dot-width":"10px","--fc-event-border-color":r.palette.primary.dark,"--fc-now-indicator-color":r.palette.error.main,color:r.palette.text.primary,backgroundColor:r.palette.background.paper,fontFamily:r.typography.fontFamily},"& .fc .fc-daygrid-day-top":{display:"grid","& .fc-daygrid-day-number":{textAlign:"center",marginTop:12,marginBottom:12}},"& .fc .fc-col-header-cell":{backgroundColor:r.palette.grey[100]},"& .fc .fc-col-header-cell-cushion":{color:r.palette.grey[900],padding:16},"& .fc-direction-ltr .fc-daygrid-event.fc-event-end, .fc-direction-rtl .fc-daygrid-event.fc-event-start":{marginLeft:4,marginBottom:6,borderRadius:4,backgroundColor:r.palette.primary.main,border:"none"},"& .fc-h-event .fc-event-main":{padding:4,paddingLeft:8},"& .fc .fc-more-popover":{border:"none",borderRadius:6,zIndex:1200},"& .fc .fc-more-popover .fc-popover-body":{backgroundColor:r.palette.grey[200],borderBottomLeftRadius:4,borderBottomRightRadius:4},"& .fc .fc-popover-header":{padding:12,borderTopLeftRadius:4,borderTopRightRadius:4,backgroundColor:r.palette.grey[200],color:r.palette.text.primary},"& .fc-theme-standard .fc-list-day-cushion":{backgroundColor:r.palette.grey[100]},"& .fc .fc-day":{cursor:"pointer"},"& .fc .fc-timeGridDay-view .fc-timegrid-slot":{backgroundColor:r.palette.background.paper},"& .fc .fc-timegrid-slot":{cursor:"pointer"},"& .fc .fc-list-event:hover td":{cursor:"pointer",backgroundColor:r.palette.grey[100]},"& .fc-timegrid-event-harness-inset .fc-timegrid-event, .fc-timegrid-event.fc-event-mirror, .fc-timegrid-more-link":{padding:8,margin:2}},r.direction===b.xk.RTL&&{overflow:"hidden"})})),k=t(45987),w=t(9019),P=t(24193),D=t(42832),W=t(61113),I=t(84060),M=t(89600),T=t(94044),E=t(98447),A=t(41103),R=t(52799),S=t(74134),z=t(23495),F=t(5186),V=t(46417),B=["date","view","onClickNext","onClickPrev","onClickToday","onChangeView"],L=[{label:"Month",value:"dayGridMonth",icon:E.Z},{label:"Week",value:"timeGridWeek",icon:A.Z},{label:"Day",value:"timeGridDay",icon:R.Z},{label:"Agenda",value:"listWeek",icon:S.Z}],_=function(e){var r=e.date,t=e.view,n=e.onClickNext,i=e.onClickPrev,c=e.onClickToday,s=e.onChangeView,u=(0,k.Z)(e,B),p=(0,l.Z)((function(e){return e.breakpoints.down("sm")})),h=(0,o.useState)(L),m=(0,a.Z)(h,2),x=m[0],v=m[1];return(0,o.useEffect)((function(){if(p){var e=L.filter((function(e){return"dayGridMonth"!==e.value&&"timeGridWeek"!==e.value}));v(e)}else v(L)}),[p]),(0,V.jsxs)(w.ZP,(0,y.Z)((0,y.Z)({alignItems:"center",container:!0,justifyContent:"space-between",spacing:p?1:3},u),{},{sx:{pb:3},children:[(0,V.jsx)(w.ZP,{item:!0,children:(0,V.jsx)(P.Z,{variant:"outlined",onClick:c,size:p?"small":"medium",children:"Today"})}),(0,V.jsx)(w.ZP,{item:!0,children:(0,V.jsxs)(D.Z,{direction:"row",alignItems:"center",spacing:p?1:3,children:[(0,V.jsx)(T.Z,{onClick:i,size:p?"small":"large",children:(0,V.jsx)(z.Z,{})}),(0,V.jsx)(W.Z,{variant:p?"h5":"h3",color:"textPrimary",children:(0,M.Z)(r,"MMMM yyyy")}),(0,V.jsx)(T.Z,{onClick:n,size:p?"small":"large",children:(0,V.jsx)(F.Z,{})})]})}),(0,V.jsx)(w.ZP,{item:!0,children:(0,V.jsx)(I.Z,{variant:"outlined","aria-label":"outlined button group",children:x.map((function(e){var r=e.icon;return(0,V.jsx)(d.Z,{title:e.label,children:(0,V.jsx)(P.Z,{size:p?"small":"medium",disableElevation:!0,variant:e.value===t?"contained":"outlined",onClick:function(){return s(e.value)},children:(0,V.jsx)(r,{style:{fontSize:"1.3rem"}})})},e.value)}))})})]}))},G=t(19860),N=t(33604),q=t(19536),J=t(96467),H=t(15103),O=t(24631),$=t(83929),K=t(70024),Q=t(41727),U=t(15480),X=t(1550),Y=t(54299),ee=t(4117),re=t(23208),te=t(74359),ne=t(91208),ie=t(16031),ae=t.n(ie),oe=t(21933),le=t(35604),ce=t(33827),se=t(72495),de=t(43681),ue=function(e){var r=e.color,t=e.value;return(0,V.jsx)(d.Z,{title:r,children:(0,V.jsx)($.Z,{value:t,label:"",control:(0,V.jsx)(ce.Z,{disableRipple:!0,icon:(0,V.jsx)(se.Z,{variant:"rounded",type:"combined",size:"xs",sx:{backgroundColor:r,borderColor:"divider"},children:(0,V.jsx)(c.Z,{sx:{display:"none"}})}),checkedIcon:(0,V.jsx)(se.Z,{variant:"rounded",type:"combined",size:"xs",sx:{backgroundColor:r,color:"#000",borderColor:"divider"},children:(0,V.jsx)(de.Z,{})}),sx:{"&:hover":{bgcolor:"transparent"}}})})})},pe=t(22150),he=t(18530),me=t(96976),xe=t(89720),ve=t(26446),fe=function(e,r){var t={title:"",description:"",color:"#1890ff",textColor:"#fff",allDay:!1,start:r?new Date(r.start):new Date,end:r?new Date(r.end):new Date};return e||r?ae().merge({},t,e):t},ge=function(e){var r=e.event,t=e.range,n=e.onCancel,i=(0,G.Z)(),a=!r,o=[{value:i.palette.primary.main,color:"primary.main"},{value:i.palette.error.main,color:"error.main"},{value:i.palette.success.main,color:"success.main"},{value:i.palette.secondary.main,color:"secondary.main"},{value:i.palette.warning.main,color:"warning.main"},{value:i.palette.primary.lighter,color:"primary.lighter"},{value:i.palette.error.lighter,color:"error.lighter"},{value:i.palette.success.lighter,color:"success.lighter"},{value:i.palette.secondary.lighter,color:"secondary.lighter"},{value:i.palette.warning.lighter,color:"warning.lighter"}],l=[{value:"#fff",color:"white"},{value:i.palette.error.lighter,color:"error.lighter"},{value:i.palette.success.lighter,color:"success.lighter"},{value:i.palette.secondary.lighter,color:"secondary.lighter"},{value:i.palette.warning.lighter,color:"warning.lighter"},{value:i.palette.primary.lighter,color:"primary.lighter"},{value:i.palette.primary.main,color:"primary.main"},{value:i.palette.error.main,color:"error.main"},{value:i.palette.success.main,color:"success.main"},{value:i.palette.secondary.main,color:"secondary.main"},{value:i.palette.warning.main,color:"warning.main"}],c=oe.Ry().shape({title:oe.Z_().max(255).required("Title is required"),description:oe.Z_().max(5e3),end:oe.hT().when("start",(function(e,r){return e&&r.min(e,"End date must be later than start date")})),start:oe.hT(),color:oe.Z_().max(255),textColor:oe.Z_().max(255)}),s=(0,le.TA)({initialValues:fe(r,t),validationSchema:c,onSubmit:function(e,t){var n=t.setSubmitting;try{var i={title:e.title,description:e.description,color:e.color,textColor:e.textColor,allDay:e.allDay,start:e.start,end:e.end};r?((0,pe.WI)((0,me.eJ)(r.id,i)),(0,pe.WI)((0,he.ss)({open:!0,message:"Event update successfully.",variant:"alert",alert:{color:"success"},close:!1}))):((0,pe.WI)((0,me.yM)(i)),(0,pe.WI)((0,he.ss)({open:!0,message:"Event add successfully.",variant:"alert",alert:{color:"success"},close:!1}))),n(!1)}catch(a){console.error(a)}}}),u=s.values,p=s.errors,h=s.touched,m=s.handleSubmit,x=s.isSubmitting,v=s.getFieldProps,f=s.setFieldValue;return(0,V.jsx)(le.Hy,{value:s,children:(0,V.jsx)(re._,{dateAdapter:ne.H,children:(0,V.jsxs)(le.l0,{autoComplete:"off",noValidate:!0,onSubmit:m,children:[(0,V.jsx)(N.Z,{children:r?"Edit Event":"Add Event"}),(0,V.jsx)(q.Z,{}),(0,V.jsx)(J.Z,{sx:{p:2.5},children:(0,V.jsxs)(w.ZP,{container:!0,spacing:3,children:[(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsxs)(D.Z,{spacing:1.25,children:[(0,V.jsx)(H.Z,{htmlFor:"cal-title",children:"Title"}),(0,V.jsx)(O.Z,(0,y.Z)((0,y.Z)({fullWidth:!0,id:"cal-title",placeholder:"Title"},v("title")),{},{error:Boolean(h.title&&p.title),helperText:h.title&&p.title}))]})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsxs)(D.Z,{spacing:1.25,children:[(0,V.jsx)(H.Z,{htmlFor:"cal-description",children:"Description"}),(0,V.jsx)(O.Z,(0,y.Z)((0,y.Z)({fullWidth:!0,id:"cal-description",multiline:!0,rows:3,placeholder:"Description"},v("description")),{},{error:Boolean(h.description&&p.description),helperText:h.description&&p.description}))]})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsx)($.Z,{control:(0,V.jsx)(K.Z,(0,y.Z)({checked:u.allDay},v("allDay"))),label:"All day"})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,md:6,children:(0,V.jsxs)(D.Z,{spacing:1.25,children:[(0,V.jsx)(H.Z,{htmlFor:"cal-start-date",children:"Start Date"}),(0,V.jsx)(te.W,{value:new Date(u.start),format:"dd/MM/yyyy hh:mm a",onChange:function(e){return f("start",e)},slotProps:{textField:{InputProps:{endAdornment:(0,V.jsx)(Q.Z,{position:"end",sx:{cursor:"pointer"},children:(0,V.jsx)(xe.Z,{})})}}}}),h.start&&p.start&&(0,V.jsx)(U.Z,{error:!0,children:p.start})]})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,md:6,children:(0,V.jsxs)(D.Z,{spacing:1.25,children:[(0,V.jsx)(H.Z,{htmlFor:"cal-end-date",children:"End Date"}),(0,V.jsx)(te.W,{value:new Date(u.end),format:"dd/MM/yyyy hh:mm a",onChange:function(e){return f("end",e)},slotProps:{textField:{InputProps:{endAdornment:(0,V.jsx)(Q.Z,{position:"end",sx:{cursor:"pointer"},children:(0,V.jsx)(xe.Z,{})})}}}}),h.end&&p.end&&(0,V.jsx)(U.Z,{error:!0,children:p.end})]})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsxs)(w.ZP,{container:!0,spacing:2,children:[(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsx)(W.Z,{variant:"subtitle1",children:"Background Color"})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsx)(X.Z,{children:(0,V.jsx)(Y.Z,(0,y.Z)((0,y.Z)({row:!0,"aria-label":"color"},v("color")),{},{onChange:function(e){return f("color",e.target.value)},name:"color-radio-buttons-group",sx:{"& .MuiFormControlLabel-root":{mr:2}},children:o.map((function(e,r){return(0,V.jsx)(ue,{value:e.value,color:e.color},r)}))}))})})]})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsxs)(w.ZP,{container:!0,spacing:2,children:[(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsx)(W.Z,{variant:"subtitle1",children:"Text Color"})}),(0,V.jsx)(w.ZP,{item:!0,xs:12,children:(0,V.jsx)(X.Z,{component:"fieldset",children:(0,V.jsx)(Y.Z,(0,y.Z)((0,y.Z)({row:!0,"aria-label":"textColor"},v("textColor")),{},{onChange:function(e){return f("textColor",e.target.value)},name:"text-color-radio-buttons-group",sx:{"& .MuiFormControlLabel-root":{mr:2}},children:l.map((function(e,r){return(0,V.jsx)(ue,{value:e.value,color:e.color},r)}))}))})})]})})]})}),(0,V.jsx)(q.Z,{}),(0,V.jsx)(ee.Z,{sx:{p:2.5},children:(0,V.jsxs)(w.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,V.jsx)(w.ZP,{item:!0,children:!a&&(0,V.jsx)(d.Z,{title:"Delete Event",placement:"top",children:(0,V.jsx)(T.Z,{onClick:function(){(0,pe.WI)((0,me.Bt)(null===r||void 0===r?void 0:r.id)),(0,pe.WI)((0,he.ss)({open:!0,message:"Event deleted successfully.",variant:"alert",alert:{color:"success"},close:!1}))},size:"large",color:"error",children:(0,V.jsx)(ve.Z,{})})})}),(0,V.jsx)(w.ZP,{item:!0,children:(0,V.jsxs)(D.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,V.jsx)(P.Z,{color:"error",onClick:n,children:"Cancel"}),(0,V.jsx)(P.Z,{type:"submit",variant:"contained",disabled:x,children:r?"Edit":"Add"})]})})]})})]})})})},Ze=t(82138),ye=function(){var e=(0,l.Z)((function(e){return e.breakpoints.down("sm")})),r=(0,o.useState)(!0),t=(0,a.Z)(r,2),y=t[0],j=t[1],b=(0,pe.v9)((function(e){return e.calendar})),k=b.calendarView,w=b.events,P=b.isModalOpen,D=b.selectedRange,W=(0,pe.v9)((function(e){var r=e.calendar,t=r.events,n=r.selectedEventId;return n?t.find((function(e){return e.id===n})):null}));(0,o.useEffect)((function(){var r=e?"listWeek":"dayGridMonth",t=(0,pe.WI)((0,me.s1)(r)),n=(0,pe.WI)((0,me.vw)());Promise.all([t,n]).then((function(){return j(!1)}))}),[]);var I=(0,o.useRef)(null);(0,o.useEffect)((function(){var r=I.current;if(r){var t=r.getApi(),n=e?"listWeek":"dayGridMonth";t.changeView(n),(0,pe.WI)((0,me.s1)(n))}}),[e]);var M=(0,o.useState)(new Date),T=(0,a.Z)(M,2),E=T[0],A=T[1],R=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.event;try{(0,pe.WI)((0,me.eJ)(t.id,{allDay:t.allDay,start:t.start,end:t.end}))}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),S=function(){(0,pe.WI)((0,me.$J)())};return y?(0,V.jsx)(g.Z,{}):(0,V.jsxs)(c.Z,{sx:{position:"relative"},children:[(0,V.jsxs)(C,{children:[(0,V.jsx)(_,{date:E,view:k,onClickNext:function(){var e=I.current;if(e){var r=e.getApi();r.next(),A(r.getDate())}},onClickPrev:function(){var e=I.current;if(e){var r=e.getApi();r.prev(),A(r.getDate())}},onClickToday:function(){var e=I.current;if(e){var r=e.getApi();r.today(),A(r.getDate())}},onChangeView:function(e){var r=I.current;r&&(r.getApi().changeView(e),(0,pe.WI)((0,me.s1)(e)))}}),(0,V.jsx)(p.Z,{weekends:!0,editable:!0,droppable:!0,selectable:!0,events:w,ref:I,rerenderDelay:10,initialDate:E,initialView:k,dayMaxEventRows:3,eventDisplay:"block",headerToolbar:!1,allDayMaintainDuration:!0,eventResizableFromStart:!0,select:function(e){var r=I.current;r&&r.getApi().unselect();(0,pe.WI)((0,me.jh)(e.start,e.end))},eventDrop:R,eventClick:function(e){(0,pe.WI)((0,me.lz)(e.event.id))},eventResize:R,height:e?"auto":720,plugins:[m.Z,x.Z,f.Z,v.Z,h.ZP]})]}),(0,V.jsx)(s.Z,{maxWidth:"sm",TransitionComponent:Z.S,fullWidth:!0,onClose:S,open:P,sx:{"& .MuiDialog-paper":{p:0}},children:(0,V.jsx)(ge,{event:W,range:D,onCancel:S})}),(0,V.jsx)(d.Z,{title:"Add New Event",children:(0,V.jsx)(u.Z,{ariaLabel:"add-event-fab",sx:{display:"inline-flex",position:"sticky",bottom:24,left:"100%",transform:"translate(-50%, -50% )"},icon:(0,V.jsx)(Ze.Z,{style:{fontSize:"1.5rem"}}),onClick:S})})]})}}}]);